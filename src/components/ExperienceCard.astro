---
import Breadcrumb from "@/components/Breadcrumb.astro";

type Props = {
  title: string;
  company: string;
  date: string;
  type?: string;
  url?: string;
  description: string[];
};

const { title, company, date, type: experienceType, url, description } = Astro.props;
---

<div
  class="w-full min-w-[280px] max-w-md flex-1 mx-auto bg-gradient-to-br relative pb-5 from-white/[0.001] to-white/[0.01] border-2 border-white rounded-lg overflow-hidden"
>
  <div class="flex items-center justify-start px-4 py-2 bg-white/95">
    <div class="flex space-x-2">
      <div class="w-3 h-3 rounded-full bg-black"></div>
      <div class="w-3 h-3 rounded-full bg-black"></div>
      <div class="w-3 h-3 rounded-full bg-black"></div>
    </div>
  </div>

  <div class="p-6 tracking-wider">
    {url ? (
      <>
        <h2 class="text-xl font-medium text-white mb-2">
          <span class="ba text-white/70 mr-2">❯</span>
          {title}
        </h2>
        <div class="flex flex-wrap items-center gap-1.5 mb-1">
          <p class="text-white font-medium tracking-widest text-sm">
            [{company}]
          </p>
          {experienceType && (
            <Breadcrumb title={experienceType} variant="card" />
          )}
        </div>
        <p class="font-descriptive text-white/70 text-sm mb-2">{date}</p>
        <ul class="font-descriptive text-white/80 text-sm font-thin mb-4 space-y-1 list-none ml-0 pl-0">
          {description.slice(0, 3).map((item) => (
            <li class="flex gap-2">
              <span class="text-white/70 shrink-0" aria-hidden="true">▪</span>
              <span>{item}</span>
            </li>
          ))}
        </ul>
        <a
          href={url}
          target="_blank"
          rel="noopener noreferrer"
          class="absolute bottom-4 font-medium inline-flex items-center text-white group hover:underline underline-offset-4"
        >
          Learn more
          <svg
            class="w-4 h-4 ml-2 transform group-hover:-translate-x-1 transition-transform"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width={2}
              d="M9 5l7 7-7 7"
            ></path>
          </svg>
        </a>
      </>
    ) : (
      <div>
        <h2 class="text-xl font-medium text-white mb-2">
          <span class="ba text-white/70 mr-2">❯</span>
          {title}
        </h2>
        <div class="flex flex-wrap items-center gap-1.5 mb-1">
          <p class="text-white font-medium tracking-widest text-sm">
            [{company}]
          </p>
          {experienceType && (
            <Breadcrumb title={experienceType} variant="card" />
          )}
        </div>
        <p class="font-descriptive text-white/70 text-sm mb-2">{date}</p>
        <ul class="font-descriptive text-white/80 text-sm font-thin space-y-1 list-none ml-0 pl-0">
          {description.slice(0, 3).map((item) => (
            <li class="flex gap-2">
              <span class="text-white/70 shrink-0" aria-hidden="true">▪</span>
              <span>{item}</span>
            </li>
          ))}
        </ul>
      </div>
    )}
  </div>
</div>
